<%- include("partials/header.ejs") %>
<body>
  <div class="container">
    <% if (locals.genre) { %>
        <h1>Books in Genre: <%= genre %></h1>
        <% if (books.length > 0) { %>
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Author ID</th>
                <th>Publication Year</th>
                <th>Genre</th>
            </tr>
            </thead>
            <tbody>
            <% books.forEach(function(book) { %>
                <tr>
                <td><%= book.id_books %></td>
                <td><%= book.title %></td>
                <td><%= book.id_authors %></td>
                <td><%= book.publication_year %></td>
                <td><%= book.genre %></td>
                </tr>
            <% }); %>
            </tbody>
        </table>
        <% } else { %>
        <p>No books found in this genre.</p>
        <% } %>
        <button><a href="/searchBooks"> back </a></button>
    </div>
    <% } else if (locals.author_name) { %>
        <h1>Books by Author: <%= author_name %></h1>
        <% if (books_with_authors.length > 0) { %>
        <table>
            <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Publication Year</th>
            </tr>
            </thead>
            <tbody>
            <% books.forEach(function(books_with_authors) { %>
                <tr>
                <td><%= books_with_authors.book_title %></td>
                <td><%= books_with_authors.author_name %></td>
                <td><%= books_with_authors.publication_year %></td>
                </tr>
            <% }); %>
            </tbody>
        </table>
        <% } else { %>
        <p>No books found by this author.</p>
        <% } %>
        <button><a href="/searchBooks"> back </a></button>
    <% }else if (locals.updateThink){ %>  
    
    <% } %>
</body>
<%- include("partials/footer.ejs") %>
